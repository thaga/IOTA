var JSX={};(function(d){function a(b,e){var a=function(){};a.prototype=e.prototype;var c=new a;for(var d in b){b[d].prototype=c}}function av(c,b){for(var a in b.prototype)if(b.prototype.hasOwnProperty(a))c.prototype[a]=b.prototype[a]}function r(a,b,d){function c(a,b,c){delete a[b];a[b]=c;return c}Object.defineProperty(a,b,{get:function(){return c(a,b,d())},set:function(d){c(a,b,d)},enumerable:true,configurable:true})}function au(a,b,c){return a[b]=a[b]/c|0}var an=parseInt;var as=parseFloat;function at(a){return a!==a}var w=isFinite;var x=encodeURIComponent;var y=decodeURIComponent;var B=encodeURI;var D=decodeURI;var R=Object.prototype.toString;var aj=Object.prototype.hasOwnProperty;function f(){}d.require=function(b){var a=t[b];return a!==undefined?a:null};d.profilerIsRunning=function(){return f.getResults!=null};d.getProfileResults=function(){return(f.getResults||function(){return{}})()};d.postProfileResults=function(a,b){if(f.postResults==null)throw new Error('profiler has not been turned on');return f.postResults(a,b)};d.resetProfileResults=function(){if(f.resetResults==null)throw new Error('profiler has not been turned on');return f.resetResults()};d.DEBUG=false;function al(){};a([al],Error);function k(){};a([k],Object);function ao(i){var a;var g;var h;var d;var c;var e;var f;a=b.A.getElementById('iota_canvas');if(a){a.style.position='absolute';a.style.left='0px';a.style.top='0px';g=b.A.getElementById('iota_input');h=new u(a,g);a.width=b._.innerWidth;a.height=b._.innerHeight;b._.onresize=function(c){a.width=b._.innerWidth;a.height=b._.innerHeight;h.P()}}d=b._.document.getElementsByTagName('canvas');for(c=0;c<d.length;++c){e=d[c];f=e.dataset.thetaImg;if(f){(function(c,d){var a;a=b._.document.createElement('img');a.onload=function(b){new p(c,null,a)};a.src=d}(e,f))}}};k.main=ao;function o(c,E,O,N){var P=this;var z;var B;var M;var L;var a;var K;var J;var A;var q;var r;var s;var f;var p;var d;var v;var n;var C;var D;var l;var F;var G;var k;var j;var t;var u;var w;var x;var o;var I;var H;var y;this.P=null;z=128;B=64;function M(c,e){var d;var a;var b;d=new Float32Array((c+1)*(e+1)*2);for(a=0;a<=e;++a){for(b=0;b<=c;++b){d[(a*(c+1)+b)*2]=b/c;d[(a*(c+1)+b)*2+1]=a/e}}return d}function L(b,f){var d;var e;var a;var c;d=(b+1)*2+2;e=new Uint16Array(d*f);for(a=0;a<f;++a){for(c=0;c<=b;++c){e[a*d+c*2]=(a+1)*(b+1)+c;e[a*d+c*2+1]=a*(b+1)+c}e[a*d+(b+1)*2]=(a+1)*(b+1)+b;e[a*d+(b+1)*2+1]=(a+1)*(b+1)+b}return e}a=c.getContext('experimental-webgl',{premultipliedAlpha:false});K=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,K);a.bufferData(a.ARRAY_BUFFER,M(z|0,B|0),a.STATIC_DRAW);J=a.createBuffer();A=L(z|0,B|0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,J);a.bufferData(a.ELEMENT_ARRAY_BUFFER,A,a.STATIC_DRAW);a.vertexAttribPointer(0,2,a.FLOAT,false,0,0);a.enableVertexAttribArray(0);q=a.createShader(a.VERTEX_SHADER);a.shaderSource(q,'\n			precision mediump float;\n			uniform mat4 projectionMatrix;\n			uniform mat4 modelviewMatrix;\n			attribute vec2 position;\n			varying vec2 v_texcoord;\n			void main() {\n				float h = (position.x + 0.25) * 3.14159265 * 2.0;\n				float v = (position.y - 0.5) * 3.14159265;\n				float hc = cos(h), hs = sin(h);\n				float vc = cos(v), vs = sin(v);\n				v_texcoord = position;\n				gl_Position = projectionMatrix * modelviewMatrix * vec4(vc * hc, vs, vc * hs, 1.0);\n			}\n		');a.compileShader(q);if(!!!a.getShaderParameter(q,a.COMPILE_STATUS)){console.log(a.getShaderInfoLog(q))}r=a.createShader(a.VERTEX_SHADER);a.shaderSource(r,'\n			precision mediump float;\n			uniform mat4 projectionMatrix;\n			uniform mat4 modelviewMatrix;\n			attribute vec2 position;\n			varying vec2 v_texcoord;\n			void main() {\n				v_texcoord = position;\n				float n = -projectionMatrix[3][2] - 1.0;\n				float h = (position.x + 0.25) * 3.14159265 * 2.0;\n				float v = (position.y - 0.5) * 3.14159265;\n				float hc = cos(h), hs = sin(h);\n				float vc = cos(v), vs = sin(v);\n				vec3 p = (modelviewMatrix * vec4(vc * hc, vs, vc * hs, 1.0)).xyz;\n				float xy2 = dot(p.xy, p.xy);\n				float d = dot(p, p);\n				gl_Position = projectionMatrix * vec4(p.x * (d + p.z) / xy2, p.y * (d + p.z) / xy2, p.z - n - 0.9, 1.0);\n			}\n		');a.compileShader(r);if(!!!a.getShaderParameter(r,a.COMPILE_STATUS)){console.log(a.getShaderInfoLog(r))}s=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(s,'\n			precision mediump float;\n			uniform sampler2D texture;\n			varying vec2 v_texcoord;\n			void main() {\n				gl_FragColor = texture2D(texture, v_texcoord);\n			}\n		');a.compileShader(s);if(!!!a.getShaderParameter(s,a.COMPILE_STATUS)){console.log(a.getShaderInfoLog(s))}f=a.createProgram();a.attachShader(f,N?r:q);a.attachShader(f,s);a.linkProgram(f);if(!!!a.getProgramParameter(f,a.LINK_STATUS)){console.log(a.getProgramInfoLog(f))}a.useProgram(f);p=null;d=.1;v=0;n=0;C=0;D=0;function l(){var l;var k;var b;var j;var o;var q;var H;var K;var P;var w;var x;var y;var u;var B;var E;var F;var G;var r;var I;var J;var s;var L;var M;var O;var t;var z;if(!p){return}l=c.width;k=c.height;o=l/k;b=1>=o?1:o;q=k/l;j=1>=q?1:q;a.uniform1i(a.getUniformLocation(f,'texture'),0);a.uniformMatrix4fv(a.getUniformLocation(f,'projectionMatrix'),false,N?h((H=-b,K=-j,P=d+2,aq(new e,H,b,K,j,d,P))):h((w=-.1*b,x=.1*b,y=-.1*j,u=.1*j,ap(new e,w,x,y,u,d,1.1))));a.uniformMatrix4fv(a.getUniformLocation(f,'modelviewMatrix'),false,h((t=(s=(r=(B=-n,E=new e,g(E,B,1,0,0)),I=(F=-v,G=new e,g(G,F,0,1,0)),m(r,new i(r),I)),L=(J=new e,g(J,D,1,0,0)),m(s,new i(s),L)),z=(M=-C,O=new e,g(O,M,0,0,1)),m(t,new i(t),z))));a.viewport(0,0,l,k);a.clearColor(.1,.2,.3,1);a.clear(a.COLOR_BUFFER_BIT);a.drawElements(a.TRIANGLE_STRIP,A.length,a.UNSIGNED_SHORT,0)}this.P=l;function F(b){if(!p){p=a.createTexture();a.bindTexture(a.TEXTURE_2D,p)}a.pixelStorei(a.UNPACK_ALIGNMENT,1);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,1);a.bindTexture(a.TEXTURE_2D,p);a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,b);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);l()}function G(a){d*=Math.pow(.9,a);if(d>.9){d=.9}if(d<.01){d=.01}l()}if(O){F(O)}k=null;j=-1;function t(c){var d;var e;var a;if(!k){return}if(c<0||c>=k.length){return}d=k[c];e=new FileReader;e.onload=function(c){var a;a=b.A.createElement('img');a.onload=function(b){v=0;n=0;F(a)};a.src=c.target.result};e.readAsDataURL(d);a=new FileReader;a.onload=function(q){var h;var c;var b;var g;var i;var d;var e;var f;var m;var n;var o;var p;var j;var k;h=a.result+'';c=new Uint8Array(h.length);b=0;for(b=0;b<c.length;++b){c[b]=h.charCodeAt(b)&255}g=[0,3,0,10,0,0,0,2];i=1e4;for(d=0;d<i;++d){for(b=0;b<g.length;++b){if(c[b+d]!==g[b]){break}}if(b===g.length){break}}if(d===i){return}d+=g.length;function e(a,b){return a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]}f=e(c,d|0)+12;if(f>c.length-16){return}m=e(c,f|0);n=e(c,f+4|0);o=e(c,f+8|0);p=e(c,f+12|0);j=m/n;k=o/p;C=j*Math.PI/180;D=k*Math.PI/180;l()};a.readAsBinaryString(d)}if(E){E.onchange=function(a){k=E.files;t((j=0)|0)}}c.ondragover=function(a){a.preventDefault()};c.ondrop=function(a){var b;a.preventDefault();b=a;k=b.dataTransfer.files;t((j=0)|0)};c.onmousewheel=function(a){var b;a.preventDefault();b=a;G(+b.wheelDelta/-120)};c.addEventListener('DOMMouseScroll',function(a){var b;a.preventDefault();b=a;G(b.detail/3)},false);u=false;w=0;x=0;c.onmousedown=function(b){var a;b.preventDefault();a=b;if(a.button===0){u=true;w=a.clientX;x=a.clientY}};c.onmouseup=function(a){var b;a.preventDefault();b=a;if(b.button===0){u=false}};c.onmouseout=function(a){u=false};c.onmousemove=function(e){var a;var b;e.preventDefault();a=e;if(u){b=1/Math.sqrt(c.width*c.height*d);v+=(a.clientX-w)*b;n+=(a.clientY-x)*b;if(n>1.570796325){n=1.570796325}if(n<-1.570796325){n=-1.570796325}l();w=a.clientX;x=a.clientY}};o=false;I=false;H=0;y=0;c.ondblclick=function(f){var d;var a;var e;d=c;a=c;if(d.mozRequestFullScreen){function e(d){var a;if(o){c.width=H;c.height=y;o=false}else{a=b.A.mozFullScreenElement;if(a==c){c.width=b._.innerWidth;c.height=b._.innerHeight;o=true}}l()}if(!I){b.A.addEventListener('mozfullscreenchange',e);I=true}if(!o){H=c.width;y=c.height;a.mozRequestFullScreen()}}if(d.webkitRequestFullScreen){if(!o){a.onwebkitfullscreenchange=function(f){var d;var e;o=true;d=c.width;e=c.height;c.width=b._.innerWidth;c.height=b._.innerHeight;l();a.onwebkitfullscreenchange=function(a){o=false;c.width=d;c.height=e;l()}};a.webkitRequestFullScreen()}}};b._.addEventListener('keydown',function(b){var a;if(!k){return}a=b;switch(a.keyCode){default:break;case 37:if(--j>=0){t(j|0)}else{j=0}break;case 39:if(++j<k.length){t(j|0)}else{j=k.length-1}break}})};function p(a,b,c){var d=this;o.call(this,a,b,c,false)};function u(a,b){var c=this;o.call(this,a,b,null,false)};a([o,p,u],Object);function b(){};a([b],Object);function c(){};a([c],Object);function z(){};a([z],c);function A(){};a([A],Object);function s(){};a([s],c);function C(){};a([C],Object);function q(){};a([q],s);function E(){};a([E],Object);function F(){};a([F],Object);function G(){};a([G],Object);function H(){};a([H],c);function I(){};a([I],Object);function J(){};a([J],Object);function K(){};a([K],c);function L(){};a([L],c);function M(){};a([M],c);function N(){};a([N],c);function O(){};a([O],c);function P(){};a([P],q);function Q(){};a([Q],c);function ak(){};a([ak],c);function S(){};a([S],c);function T(){};a([T],Object);function U(){};a([U],Object);function V(){};a([V],Object);function W(){};a([W],c);function X(){};a([X],Object);function Y(){};a([Y],Object);function Z(){};a([Z],Object);function _(){};a([_],Object);function $(){};a([$],Object);function a0(){};a([a0],Object);function a1(){};a([a1],c);function a2(){};a([a2],c);function a3(){};a([a3],c);function a4(){};a([a4],Object);function a5(){};a([a5],Object);function a6(){};a([a6],Object);function a7(){};a([a7],Object);function a8(){};a([a8],c);function a9(){};a([a9],c);function aa(){};a([aa],c);function ab(){};a([ab],Object);function ac(){};a([ac],Object);function ad(){};a([ad],Object);function ae(){};a([ae],Object);function af(){};a([af],Object);function ag(){};a([ag],Object);function ah(){};a([ah],Object);function ai(){};a([ai],Object);function e(){this._=0;this.D=0;this.H=0;this.L=0;this.A=0;this.E=0;this.I=0;this.M=0;this.B=0;this.F=0;this.J=0;this.N=0;this.C=0;this.G=0;this.K=0;this.O=0};function i(a){this._=0;this.D=0;this.H=0;this.L=0;this.A=0;this.E=0;this.I=0;this.M=0;this.B=0;this.F=0;this.J=0;this.N=0;this.C=0;this.G=0;this.K=0;this.O=0;am(this,a)};a([e,i],Object);function h(a){return[a._,a.D,a.H,a.L,a.A,a.E,a.I,a.M,a.B,a.F,a.J,a.N,a.C,a.G,a.K,a.O]};function am(a,b){a._=b._;a.D=b.D;a.H=b.H;a.L=b.L;a.A=b.A;a.E=b.E;a.I=b.I;a.M=b.M;a.B=b.B;a.F=b.F;a.J=b.J;a.N=b.N;a.C=b.C;a.G=b.G;a.K=b.K;a.O=b.O;return a};e.prototype.R=function(a){this._=a[0];this.D=a[1];this.H=a[2];this.L=a[3];this.A=a[4];this.E=a[5];this.I=a[6];this.M=a[7];this.B=a[8];this.F=a[9];this.J=a[10];this.N=a[11];this.C=a[12];this.G=a[13];this.K=a[14];this.O=a[15];return this};function m(a,b,c){var e;var f;var g;var h;var i;var j;var k;var l;var m;var n;var o;var p;var q;var r;var d;var t;var u;var v;var w;var x;var y;var z;var A;var B;var C;var D;var E;var F;var G;var H;var I;var s;a._=(i=b._)*(e=c._)+(j=b.A)*(f=c.D)+(k=b.B)*(g=c.H)+(l=b.C)*(h=c.L);a.D=(m=b.D)*e+(o=b.E)*f+(q=b.F)*g+(d=b.G)*h;a.H=(u=b.H)*e+(v=b.I)*f+(w=b.J)*g+(x=b.K)*h;a.L=(y=b.L)*e+(z=b.M)*f+(A=b.N)*g+(B=b.O)*h;a.A=i*(n=c.A)+j*(p=c.E)+k*(r=c.I)+l*(t=c.M);a.E=m*n+o*p+q*r+d*t;a.I=u*n+v*p+w*r+x*t;a.M=y*n+z*p+A*r+B*t;a.B=i*(C=c.B)+j*(D=c.F)+k*(E=c.J)+l*(F=c.N);a.F=m*C+o*D+q*E+d*F;a.J=u*C+v*D+w*E+x*F;a.N=y*C+z*D+A*E+B*F;a.C=i*(G=c.C)+j*(H=c.G)+k*(I=c.K)+l*(s=c.O);a.G=m*G+o*H+q*I+d*s;a.K=u*G+v*H+w*I+x*s;a.O=y*G+z*H+A*I+B*s;return a};function g(a,j,c,d,b){var i;var h;var g;var f;var e;i=Math.sqrt(c*c+d*d+b*b);if(i===0){return null}h=1/ i;c*=h;d*=h;b*=h;g=Math.cos(j),f=Math.sin(j);e=1-g;a._=c*c*e+g;a.D=d*c*e+b*f;a.H=c*b*e-d*f;a.A=c*d*e-b*f;a.E=d*d*e+g;a.I=d*b*e+c*f;a.B=c*b*e+d*f;a.F=d*b*e-c*f;a.J=b*b*e+g;a.L=a.M=a.N=a.C=a.G=a.K=0;a.O=1;return a};function ap(a,g,h,i,j,b,d){var e;var f;var c;e=h-g,f=j-i,c=d-b;a._=2*b/e;a.E=2*b/f;a.B=(h+g)/e;a.F=(j+i)/f;a.J=-(d+b)/c;a.N=-1;a.K=-2*d*b/c;a.D=a.H=a.L=a.A=a.I=a.M=a.C=a.G=a.O=0;return a};function aq(a,i,j,e,f,g,h){var c;var d;var b;c=j-i,d=f-e,b=h-g;a._=2/c;a.E=2/d;a.J=-2/b;a.C=-(j+i)/c;a.G=-(f+e)/d;a.K=-(h+g)/b;a.D=a.H=a.L=a.A=a.I=a.M=a.B=a.F=a.N=0;a.O=1;return a};e.prototype.toString=function(){return'M44'+JSON.stringify(h(this))};function ar(){};a([ar],Object);function l(){};a([l],Object);function v(a){};l.main=v;var n=function(){var a=function(){return this}();return{global:a,eval:a.eval,invoke:function(a,b,c){return a[b].apply(a,c)}}}();r(b,'_',function(){return n.global.window});r(b,'A',function(){return n.global.document});var t={'iota.jsx':{_Main:k},'mvq.jsx':{_Main:l}};d.runMain=function(b,c){var a=d.require(b);if(!a){throw new ReferenceError('entry point module not found in '+b)}if(!a._Main){throw new ReferenceError('entry point _Main not found in '+b)}if(!a._Main.main){throw new ReferenceError('entry point _Main.main(:string[]):void not found in '+b)}a._Main.main(c)};d.runTests=function(i,b){var g=d.require(i);if(!g)return;var c=g._Test;if(!c)return;if(b.length===0){var h=c.prototype;for(var e in h){if(h[e]instanceof Function&&e.match(/^test\w*$/)){b.push(e)}}}var a=new c;if(a.beforeClass!=null)a.beforeClass(b);for(var f=0;f<b.length;++f){(function(b){if(b in a){a.run(b,function(){a[b]()})}else{throw new ReferenceError('No such test method: '+b)}}(b[f]))}if(a.afterClass!=null)a.afterClass()};function j(a){window.removeEventListener('load',j);document.removeEventListener('DOMContentLoaded',j);d.runMain('iota.jsx',[])}window.addEventListener('load',j);document.addEventListener('DOMContentLoaded',j)}(JSX))